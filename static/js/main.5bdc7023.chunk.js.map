{"version":3,"sources":["functions/firebase.js","components/Post.js","pages/Home.js","pages/Explore.js","pages/Landing.js","pages/Profile.js","pages/Redirect.js","pages/NotFound.js","pages/Post.js","pages/Write.js","pages/User.js","components/CustomRoute.js","components/Navbar.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","login","a","provider","auth","GoogleAuthProvider","signInWithPopup","result","user","errorMessage","message","console","log","logout","signOut","then","catch","error","isUserInDatabase","id","firestore","collection","doc","get","userDoc","data","createUserDocument","uid","set","displayName","photoURL","following","followers","createPost","title","body","author","authorId","add","createdAt","Date","now","docRef","update","postId","getUserPost","where","posts","forEach","post","push","getFollowingUsersPost","followingUsers","length","orderBy","limit","empty","docs","getSinglePost","exists","followUser","follower","followedUser","FieldValue","arrayUnion","unfollowUser","arrayRemove","getRandomPosts","deletePost","delete","response","Post","comments","deletable","history","useHistory","PostDelete","alert","style","margin","Typography","variant","onClick","cursor","Button","color","Home","useState","display","setDisplay","setError","getPosts","currentUser","align","tempArray","map","useEffect","Container","maxWidth","textDecoration","key","input","substring","Toolbar","Explore","Landing","Login","height","Grid","container","justify","alignItems","item","xs","Profile","userInfo","setUserInfo","Logout","marginTop","Avatar","width","src","Redirect","databaseCheck","NotFound","location","useLocation","getPost","path","pathname","postData","Write","setTitle","setBody","publish","spacing","textDecorationLine","TextField","label","value","onChange","e","target","multiline","User","setFollowing","buttonDisabled","setButtonDisabled","Follow","Unfollow","userId","includes","disabled","CustomRoute","needsUser","children","rest","to","Navbar","setValue","changePage","url","BottomNavigation","showLabels","position","bottom","BottomNavigationAction","icon","App","setPersistence","Auth","Persistence","NONE","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5bdc7023.chunk.js","sourcesContent":["import firebase from 'firebase';\r\n\r\nvar firebaseConfig = {\r\n  apiKey: 'AIzaSyC8C_w-6dzqWhZ7XFx5WV5bEp7aiMgjXiQ',\r\n  authDomain: 'miniblog-01.firebaseapp.com',\r\n  projectId: 'miniblog-01',\r\n  storageBucket: 'miniblog-01.appspot.com',\r\n  messagingSenderId: '753468044906',\r\n  appId: '1:753468044906:web:e6d7eb1eac142fbabf7c13',\r\n};\r\n\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase;\r\n\r\nexport async function login() {\r\n  var provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n  const result = await firebase.auth().signInWithPopup(provider);\r\n  try {\r\n    var user = result.user;\r\n    return user;\r\n  } catch (error) {\r\n    var errorMessage = error.message;\r\n    if (errorMessage) console.log(errorMessage);\r\n    return error;\r\n  }\r\n}\r\n\r\nexport async function logout() {\r\n  firebase\r\n    .auth()\r\n    .signOut()\r\n    .then(() => {\r\n      return;\r\n    })\r\n    .catch((error) => {\r\n      return error;\r\n    });\r\n}\r\n\r\nexport async function isUserInDatabase(id) {\r\n  try {\r\n    var userDoc = await firebase\r\n      .firestore()\r\n      .collection('users')\r\n      .doc(`${id}`)\r\n      .get();\r\n    return userDoc.data();\r\n  } catch (error) {\r\n    return error;\r\n  }\r\n}\r\n\r\nexport async function createUserDocument(user) {\r\n  try {\r\n    await firebase.firestore().collection('users').doc(`${user.uid}`).set({\r\n      displayName: user.displayName,\r\n      photoURL: user.photoURL,\r\n      uid: user.uid,\r\n      following: [],\r\n      followers: [],\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    return error;\r\n  }\r\n}\r\n\r\nexport async function createPost(title, body, author, authorId) {\r\n  try {\r\n    const docRef = await firebase.firestore().collection('posts').add({\r\n      title: title,\r\n      body: body,\r\n      author: author,\r\n      authorId: authorId,\r\n      createdAt: Date.now(),\r\n    });\r\n    firebase.firestore().collection('posts').doc(`${docRef.id}`).update({\r\n      postId: docRef.id,\r\n    });\r\n\r\n    return 1;\r\n  } catch (error) {\r\n    console.log(error);\r\n    return error;\r\n  }\r\n}\r\n\r\nexport async function getUserPost(id) {\r\n  try {\r\n    const posts = await firebase\r\n      .firestore()\r\n      .collection('posts')\r\n      .where('authorId', '==', `${id}`)\r\n      .get();\r\n    const data = [];\r\n    posts.forEach((post) => {\r\n      data.push(post.data());\r\n    });\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nexport async function getFollowingUsersPost(id) {\r\n  // 1-No following 2-else\r\n  try {\r\n    const userDoc = await isUserInDatabase(id);\r\n    const followingUsers = userDoc.following;\r\n    if (followingUsers.length === 0) {\r\n      return 1;\r\n    } else {\r\n      const result = await firebase\r\n        .firestore()\r\n        .collection('posts')\r\n        .where('authorId', 'in', followingUsers)\r\n        .orderBy('createdAt')\r\n        .limit(20)\r\n        .get();\r\n      if (result.empty) {\r\n        return 2;\r\n      } else {\r\n        return result.docs;\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.log(error.message);\r\n    return 2;\r\n  }\r\n}\r\n\r\nexport async function getSinglePost(postId) {\r\n  try {\r\n    const result = await firebase\r\n      .firestore()\r\n      .collection('posts')\r\n      .doc(`${postId}`)\r\n      .get();\r\n\r\n    if (result.exists) {\r\n      return result.data();\r\n    }\r\n    return 1;\r\n  } catch (error) {\r\n    return 1;\r\n  }\r\n}\r\n\r\nexport async function followUser(follower, followedUser) {\r\n  await firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .doc(`${followedUser}`)\r\n    .update({\r\n      followers: firebase.firestore.FieldValue.arrayUnion(`${follower}`),\r\n    });\r\n  await firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .doc(`${follower}`)\r\n    .update({\r\n      following: firebase.firestore.FieldValue.arrayUnion(`${followedUser}`),\r\n    });\r\n}\r\n\r\nexport async function unfollowUser(follower, followedUser) {\r\n  await firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .doc(`${followedUser}`)\r\n    .update({\r\n      followers: firebase.firestore.FieldValue.arrayRemove(`${follower}`),\r\n    });\r\n  await firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .doc(`${follower}`)\r\n    .update({\r\n      following: firebase.firestore.FieldValue.arrayRemove(`${followedUser}`),\r\n    });\r\n}\r\nexport async function getRandomPosts() {\r\n  const posts = await firebase\r\n    .firestore()\r\n    .collection('posts')\r\n    .orderBy('createdAt')\r\n    .limit(15)\r\n    .get();\r\n  if (!posts.empty) {\r\n    return posts.docs;\r\n  } else {\r\n    return 1;\r\n  }\r\n}\r\n\r\nexport async function deletePost(postId) {\r\n  try {\r\n    const response = await firebase\r\n      .firestore()\r\n      .collection('posts')\r\n      .doc(`${postId}`)\r\n      .delete();\r\n    return response;\r\n  } catch (error) {\r\n    return 1;\r\n  }\r\n}\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { deletePost } from '../functions/firebase';\r\nconst Post = ({\r\n  title,\r\n  body,\r\n  author,\r\n  comments,\r\n  authorId,\r\n  postId,\r\n  deletable = false,\r\n}) => {\r\n  const history = useHistory();\r\n\r\n  const PostDelete = async (postId) => {\r\n    const response = await deletePost(postId);\r\n    if (response === 1) {\r\n      alert('There is an error with our servers. Please try again later.');\r\n    } else {\r\n      console.log(response);\r\n      alert('Post Deleted Successfully!');\r\n      history.push('/explore');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ margin: '4rem 0' }}>\r\n      <Typography\r\n        variant=\"h4\"\r\n        onClick={() => {\r\n          history.push('/post/' + postId);\r\n        }}\r\n        style={{ cursor: 'pointer' }}\r\n      >\r\n        {title}\r\n        {'    '}\r\n      </Typography>{' '}\r\n      {deletable ? (\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          onClick={() => {\r\n            PostDelete(postId);\r\n          }}\r\n        >\r\n          Delete\r\n        </Button>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <Typography\r\n        variant=\"subtitle2\"\r\n        color=\"primary\"\r\n        onClick={() => {\r\n          history.push('/user/' + authorId);\r\n        }}\r\n        style={{ cursor: 'pointer' }}\r\n      >\r\n        by {author}\r\n      </Typography>\r\n      <Typography variant=\"body1\">{body}</Typography>\r\n      {comments > 0 ? (\r\n        <Typography variant=\"caption\">\r\n          -{comments} comment{comments === 1 ? '' : 's'}-\r\n        </Typography>\r\n      ) : (\r\n        ''\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Post from '../components/Post';\r\n\r\nimport firebase, { getFollowingUsersPost } from '../functions/firebase';\r\n\r\nconst Home = () => {\r\n  const [display, setDisplay] = useState([]);\r\n  const [error, setError] = useState('');\r\n\r\n  function truncate(input) {\r\n    if (input.length > 500) {\r\n      return input.substring(0, 500) + '...';\r\n    }\r\n    return input;\r\n  }\r\n\r\n  const getPosts = async () => {\r\n    const user = firebase.auth().currentUser;\r\n    const posts = await getFollowingUsersPost(user.uid);\r\n    if (posts === 1) {\r\n      setError(\r\n        <Typography variant=\"body1\" align=\"center\">\r\n          You are not following anyone.\r\n        </Typography>\r\n      );\r\n    } else if (posts === 2) {\r\n      setError(\r\n        <Typography variant=\"body1\" align=\"center\">\r\n          An error occured in the server, please try again.\r\n        </Typography>\r\n      );\r\n    } else {\r\n      var tempArray = [];\r\n      posts.map((post) => {\r\n        tempArray.push(post.data());\r\n      });\r\n      setDisplay(tempArray);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPosts();\r\n  }, []);\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Typography\r\n        style={{ margin: '2rem 0', textDecoration: 'underline' }}\r\n        align=\"center\"\r\n        variant=\"h3\"\r\n      >\r\n        Home\r\n      </Typography>\r\n      {display &&\r\n        display.map((post, key) => (\r\n          <Post\r\n            key={key}\r\n            title={post.title}\r\n            author={post.author}\r\n            body={truncate(post.body)}\r\n            comments={post.comments ? post.comments.length : 0}\r\n            authorId={post.authorId}\r\n            postId={post.postId}\r\n          />\r\n        ))}\r\n      {error ? error : ''}\r\n      <Toolbar />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Post from '../components/Post';\r\n\r\nimport firebase, { getRandomPosts } from '../functions/firebase';\r\n\r\nconst Explore = () => {\r\n  const [display, setDisplay] = useState([]);\r\n\r\n  function truncate(input) {\r\n    if (input.length > 500) {\r\n      return input.substring(0, 500) + '...';\r\n    }\r\n    return input;\r\n  }\r\n\r\n  const getPosts = async () => {\r\n    const posts = await getRandomPosts();\r\n    if (posts === 1) {\r\n      alert('There was an error, please try again.');\r\n    } else {\r\n      var tempArray = [];\r\n      posts.map((post) => {\r\n        if (post.data().authorId !== firebase.auth().currentUser.uid) {\r\n          tempArray.push(post.data());\r\n        }\r\n      });\r\n      setDisplay(tempArray);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPosts();\r\n  }, []);\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Typography\r\n        style={{ margin: '2rem 0', textDecoration: 'underline' }}\r\n        align=\"center\"\r\n        variant=\"h3\"\r\n      >\r\n        Explore\r\n      </Typography>\r\n      {display &&\r\n        display.map((post, key) => (\r\n          <Post\r\n            key={key}\r\n            title={post.title}\r\n            author={post.author}\r\n            body={truncate(post.body)}\r\n            comments={post.comments ? post.comments.length : 0}\r\n            authorId={post.authorId}\r\n            postId={post.postId}\r\n          />\r\n        ))}\r\n      <Toolbar />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Explore;\r\n","import React from 'react';\r\nimport { login } from '../functions/firebase';\r\nimport { useHistory } from 'react-router-dom';\r\nimport GoogleButton from 'react-google-button';\r\n\r\nimport { Container, Typography, Grid } from '@material-ui/core';\r\n\r\nconst Landing = () => {\r\n  var history = useHistory();\r\n\r\n  const Login = async () => {\r\n    try {\r\n      const user = await login();\r\n      if (user) {\r\n        history.push('/redirect');\r\n      } else {\r\n        alert('There was an error signing in.');\r\n      }\r\n    } catch (error) {\r\n      alert(error.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" style={{ height: '100vh' }}>\r\n      <Grid container justify=\"center\" alignItems=\"center\">\r\n        <Grid item xs={12}>\r\n          <Typography align=\"center\" variant=\"h1\" style={{ margin: '5rem 0' }}>\r\n            Miniblog\r\n          </Typography>\r\n        </Grid>\r\n\r\n        <Grid item xs={12}>\r\n          <Typography\r\n            align=\"center\"\r\n            variant=\"body1\"\r\n            style={{ margin: '3rem 0' }}\r\n          >\r\n            Read and write without any distractions. Let your ideas flow.\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} align=\"center\" style={{ margin: '3rem 0' }}>\r\n          <GoogleButton\r\n            onClick={() => {\r\n              Login();\r\n            }}\r\n          >\r\n            Google\r\n          </GoogleButton>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Landing;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Toolbar,\r\n  Grid,\r\n  Avatar,\r\n  Typography,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport Post from '../components/Post';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport firebase, { getUserPost, logout } from '../functions/firebase';\r\n\r\nconst Profile = () => {\r\n  const [display, setDisplay] = useState([]);\r\n  const [userInfo, setUserInfo] = useState();\r\n\r\n  const history = useHistory();\r\n\r\n  function truncate(input) {\r\n    if (input.length > 250) {\r\n      return input.substring(0, 250) + '...';\r\n    }\r\n    return input;\r\n  }\r\n\r\n  const Logout = async () => {\r\n    await logout();\r\n    history.push('/');\r\n  };\r\n\r\n  const getPosts = async () => {\r\n    const user = firebase.auth().currentUser;\r\n    setUserInfo(user);\r\n    const posts = await getUserPost(user.uid);\r\n    setDisplay(posts);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPosts();\r\n  }, []);\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Grid container style={{ marginTop: '3rem' }} justify=\"center\">\r\n        <Grid item>\r\n          <Avatar\r\n            style={{ width: '100px', height: '100px' }}\r\n            src={userInfo && userInfo.photoURL}\r\n            xs={12}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Typography\r\n            style={{ margin: '2rem 0', textDecoration: 'underline' }}\r\n            align=\"center\"\r\n            variant=\"h3\"\r\n          >\r\n            {userInfo && userInfo.displayName}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} align=\"center\">\r\n          <Button variant=\"contained\" color=\"secondary\" onClick={Logout}>\r\n            Logout\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      {display\r\n        ? display.map((post, key) => (\r\n            <Post\r\n              key={key}\r\n              title={post.title}\r\n              author={post.author}\r\n              body={truncate(post.body)}\r\n              comments={post.comments ? post.comments.length : 0}\r\n              authorId={post.authorId}\r\n              postId={post.postId}\r\n              deletable\r\n            />\r\n          ))\r\n        : 'Loading'}\r\n      <Toolbar />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useEffect } from 'react';\r\nimport firebase, {\r\n  isUserInDatabase,\r\n  createUserDocument,\r\n} from '../functions/firebase';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst Redirect = () => {\r\n  var history = useHistory();\r\n\r\n  const databaseCheck = async () => {\r\n    var user = firebase.auth().currentUser; //Get user id\r\n\r\n    var userDoc = await isUserInDatabase(user.uid); //Check if user has a document db\r\n\r\n    if (userDoc) {\r\n      history.push('/explore'); //If user exists in db, redirect\r\n    } else {\r\n      createUserDocument(user).then(history.push('/explore')); // Else, create document, then redirect\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    databaseCheck();\r\n  }, []);\r\n\r\n  return <div>Redirecting...</div>;\r\n};\r\n\r\nexport default Redirect;\r\n","import React from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst NotFound = () => {\r\n  const history = useHistory();\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Typography variant=\"body1\" align=\"center\" style={{ margin: '3rem 0' }}>\r\n        Oops. The page you are looking for doesn't exist.\r\n      </Typography>\r\n      <Grid container justify=\"center\">\r\n        <Grid item>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              history.push('/explore');\r\n            }}\r\n          >\r\n            Go Home\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport { getSinglePost } from '../functions/firebase';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\n\r\nconst Post = () => {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [display, setDisplay] = useState();\r\n\r\n  const getPost = async () => {\r\n    var path = location.pathname;\r\n    var postId = path.substring(6);\r\n    const postData = await getSinglePost(postId);\r\n    if (postData === 1) {\r\n      alert('There is an error with our servers, try again later.');\r\n    } else {\r\n      setDisplay(postData);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPost();\r\n  }, []);\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      {display ? (\r\n        <>\r\n          <Toolbar />\r\n          <Typography variant=\"h4\">{display.title}</Typography>\r\n          <Typography\r\n            variant=\"subtitle2\"\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              history.push('/user/' + display.authorId);\r\n            }}\r\n            style={{ cursor: 'pointer' }}\r\n          >\r\n            by {display.author}\r\n          </Typography>\r\n          <Typography variant=\"body1\">{display.body}</Typography>\r\n        </>\r\n      ) : (\r\n        'Loading...'\r\n      )}\r\n\r\n      {display && display.comments > 0 ? (\r\n        <Typography variant=\"caption\">\r\n          -{display.comments} comment{display.comments === 1 ? '' : 's'}-\r\n        </Typography>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <Toolbar />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useState } from 'react';\r\nimport Container from '@material-ui/core/Container';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport firebase, { createPost } from '../functions/firebase';\r\n\r\nconst Write = () => {\r\n  const [title, setTitle] = useState('');\r\n  const [body, setBody] = useState('');\r\n\r\n  const publish = async () => {\r\n    var user = firebase.auth().currentUser;\r\n    const response = await createPost(title, body, user.displayName, user.uid);\r\n    if (response === 1) {\r\n      setTitle('');\r\n      setBody('');\r\n      alert('Post Successful');\r\n    } else {\r\n      setTitle('');\r\n      setBody('');\r\n      alert('A problem occured, please try again later.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Grid container spacing={5}>\r\n        <Grid item xs={12}>\r\n          <Typography\r\n            variant=\"h3\"\r\n            align=\"center\"\r\n            style={{ marginTop: '3rem', textDecorationLine: 'underline' }}\r\n          >\r\n            New Post\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            style={{ width: '100%' }}\r\n            label=\"Title\"\r\n            value={title}\r\n            onChange={(e) => {\r\n              setTitle(e.target.value);\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            style={{ width: '100%' }}\r\n            value={body}\r\n            multiline\r\n            label=\"I want to talk about...\"\r\n            onChange={(e) => {\r\n              setBody(e.target.value);\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Button variant=\"contained\" color=\"primary\" onClick={publish}>\r\n            Publish\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      <Toolbar />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Write;\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Toolbar,\r\n  Grid,\r\n  Avatar,\r\n  Typography,\r\n  Button,\r\n} from '@material-ui/core';\r\nimport Post from '../components/Post';\r\n\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\n\r\nimport firebase, {\r\n  getUserPost,\r\n  isUserInDatabase,\r\n  followUser,\r\n  unfollowUser,\r\n} from '../functions/firebase';\r\n\r\nconst User = () => {\r\n  const [display, setDisplay] = useState([]);\r\n  const [userInfo, setUserInfo] = useState();\r\n  const [following, setFollowing] = useState(false);\r\n  const [buttonDisabled, setButtonDisabled] = useState(false);\r\n  const location = useLocation();\r\n\r\n  function truncate(input) {\r\n    if (input.length > 250) {\r\n      return input.substring(0, 250) + '...';\r\n    }\r\n    return input;\r\n  }\r\n\r\n  const Follow = async () => {\r\n    setButtonDisabled(true);\r\n    await followUser(firebase.auth().currentUser.uid, userInfo.uid);\r\n    setFollowing(true);\r\n    setButtonDisabled(false);\r\n  };\r\n  const Unfollow = async () => {\r\n    setButtonDisabled(true);\r\n    await unfollowUser(firebase.auth().currentUser.uid, userInfo.uid);\r\n    setFollowing(false);\r\n    setButtonDisabled(false);\r\n  };\r\n\r\n  const getPosts = async () => {\r\n    var path = location.pathname;\r\n    var userId = path.substring(6);\r\n    const user = await isUserInDatabase(userId);\r\n    setUserInfo(user);\r\n    const posts = await getUserPost(userId);\r\n    setDisplay(posts);\r\n\r\n    setFollowing(user.followers.includes(firebase.auth().currentUser.uid));\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPosts();\r\n  }, []);\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\">\r\n      <Grid container style={{ marginTop: '3rem' }} justify=\"center\">\r\n        <Grid item>\r\n          <Avatar\r\n            style={{ width: '100px', height: '100px' }}\r\n            src={userInfo && userInfo.photoURL}\r\n            xs={12}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <Typography\r\n            style={{ margin: '2rem 0', textDecoration: 'underline' }}\r\n            align=\"center\"\r\n            variant=\"h3\"\r\n          >\r\n            {userInfo && userInfo.displayName}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} align=\"center\">\r\n          <Button\r\n            disabled={buttonDisabled}\r\n            variant=\"contained\"\r\n            color={following ? 'default' : 'primary'}\r\n            onClick={following ? Unfollow : Follow}\r\n          >\r\n            {following ? 'Unfollow' : 'Follow'}\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n      {display\r\n        ? display.map((post, key) => (\r\n            <Post\r\n              key={key}\r\n              title={post.title}\r\n              author={post.author}\r\n              body={truncate(post.body)}\r\n              comments={post.comments ? post.comments.length : 0}\r\n              authorId={post.authorId}\r\n              postId={post.postId}\r\n            />\r\n          ))\r\n        : 'Loading'}\r\n      <Toolbar />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport firebase from '../functions/firebase';\r\n\r\nconst CustomRoute = ({ needsUser, children, ...rest }) => {\r\n  var user = firebase.auth().currentUser;\r\n  return (\r\n    <div>\r\n      {needsUser ? (\r\n        //user only route\r\n        user ? (\r\n          <Route {...rest}>{children}</Route>\r\n        ) : (\r\n          <Redirect to=\"/\" />\r\n        )\r\n      ) : //non-user only route\r\n      user ? (\r\n        <Redirect to=\"/explore\" />\r\n      ) : (\r\n        <Route {...rest}>{children}</Route>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomRoute;\r\n","import React, { useEffect, useState } from 'react';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\n\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport ExploreIcon from '@material-ui/icons/Explore';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport CreateIcon from '@material-ui/icons/Create';\r\n\r\nconst Navbar = () => {\r\n  var location = useLocation();\r\n  var history = useHistory();\r\n\r\n  const [value, setValue] = useState();\r\n\r\n  const changePage = (url) => {\r\n    var path = location.pathname;\r\n    path = path.substring(1);\r\n    if (path !== url) {\r\n      history.push(`/${url}`);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    var path = location.pathname;\r\n    path = path.substring(1);\r\n    setValue(path);\r\n  }, [location]);\r\n\r\n  return (\r\n    <BottomNavigation\r\n      showLabels\r\n      style={{ width: '100%', position: 'fixed', bottom: 0 }}\r\n      value={value}\r\n    >\r\n      <BottomNavigationAction\r\n        label=\"Home\"\r\n        value=\"home\"\r\n        icon={<HomeIcon />}\r\n        onClick={() => {\r\n          changePage('home');\r\n        }}\r\n      />\r\n      <BottomNavigationAction\r\n        label=\"Explore\"\r\n        value=\"explore\"\r\n        icon={<ExploreIcon />}\r\n        onClick={() => {\r\n          changePage('explore');\r\n        }}\r\n      />\r\n      <BottomNavigationAction\r\n        label=\"Profile\"\r\n        value=\"profile\"\r\n        icon={<PersonIcon />}\r\n        onClick={() => {\r\n          changePage('profile');\r\n        }}\r\n      />\r\n      <BottomNavigationAction\r\n        label=\"Write\"\r\n        value=\"write\"\r\n        icon={<CreateIcon />}\r\n        onClick={() => {\r\n          changePage('write');\r\n        }}\r\n      />\r\n    </BottomNavigation>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import {\n  Explore,\n  Home,\n  Landing,\n  NotFound,\n  Profile,\n  Redirect,\n  Write,\n  User,\n  Post,\n} from './pages';\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect as RouterRedirect,\n} from 'react-router-dom';\nimport CustomRoute from './components/CustomRoute';\nimport Navbar from './components/Navbar';\nimport firebase from './functions/firebase';\n\nfunction App() {\n  firebase.auth().setPersistence(firebase.auth.Auth.Persistence.NONE);\n  return (\n    <div style={{ height: '100vh' }}>\n      <Router>\n        <Switch>\n          <CustomRoute needsUser={false} path=\"/\" exact>\n            <Landing />\n          </CustomRoute>\n          <CustomRoute needsUser={true} path=\"/redirect\" exact>\n            <Redirect />\n          </CustomRoute>\n          <CustomRoute needsUser={true} path=\"/home\" exact>\n            <Home />\n            <Navbar />\n          </CustomRoute>\n          <CustomRoute needsUser={true} path=\"/explore\" exact>\n            <Explore />\n            <Navbar />\n          </CustomRoute>\n          <CustomRoute needsUser={true} path=\"/profile\" exact>\n            <Profile />\n            <Navbar />\n          </CustomRoute>\n          <CustomRoute needsUser={true} path=\"/post/:id\" exact>\n            <Post />\n            <Navbar />\n          </CustomRoute>\n          <CustomRoute needsUser={true} path=\"/user/:id\" exact>\n            <User />\n            <Navbar />\n          </CustomRoute>\n          <CustomRoute needsUser={true} path=\"/write\" exact>\n            <Write />\n            <Navbar />\n          </CustomRoute>\n          <CustomRoute needsUser={true} path=\"/404\" exact>\n            <NotFound />\n          </CustomRoute>\n          <Route path=\"/\">\n            <RouterRedirect to=\"/404\" />\n          </Route>\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}